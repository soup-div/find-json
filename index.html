<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Find JSON Sample</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
  <div class="title">
    <h1>検索するツール</h1>
    <p>
      検索する内容を入力
    </p>
  </div>

  <div class="main">
    <input type="text" id="enemy_name">
    <button onclick="searchEvent()">検索</button>
  </div>

  <script>
    const data = [
      {
        "name": "サンプル1",
        "floor": 1,
        "isDaily": true,
      },
      {
        "name": "サンプル2",
        "floor": 2,
        "isDaily": true,
      },
      {
        "name": "サンプル3",
        "floor": 1,
        "isDaily": true,
      },
      {
        "name": "サンプル4",
        "floor": 1,
        "isDaily": false,
      },
      {
        "name": "サンプル5",
        "floor": 1,
        "isDaily": false,
      },
    ];

    const searchEvent = () => {
      const searchName = document.getElementById("enemy_name").value;
      $(".main").children("p").fadeOut();

      // 検索処理
      const res = data.find((v => v.name === searchName));
      // console.log(res);

      // エラー処理
      if (!res) {
        // console.log("not found");
        $(".main").append(`<p>「 ${searchName} 」は存在しません<p>`);
        return
      }

      // 結果の表示
      const trueResult = `<p>${searchName}の数値は ${res.floor}です。</p>`;
      const falseResult = `<p>${searchName}は対象外です。</p>`;
      $(".main").append(res.isDaily ? trueResult : falseResult);
    }

  </script>

</body>

</html>
